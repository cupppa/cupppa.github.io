<!DOCTYPE html><html lang="en-us" >

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.8.0">

  

  
  
  
  
  
  

  

  
  
  
    
  
  <meta name="description" content="Record opeation steps of building personal site with academic for hugo.">

  
  <link rel="alternate" hreflang="en-us" href="/post/blog-with-hugo-and-academic/">

  


  
  
  
  <meta name="theme-color" content="hsl(339, 90%, 68%)">
  

  
  

  
  
  
  
    
    <link rel="stylesheet" href="/css/vendor/main.min.css">
  

  
  
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  




  


  
  

  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_32x32_fill_lanczos_center_2.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_2.png">

  <link rel="canonical" href="/post/blog-with-hugo-and-academic/">

  
  
  
  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="og:site_name" content="CUPPPA">
  <meta property="og:url" content="/post/blog-with-hugo-and-academic/">
  <meta property="og:title" content="Blog with Hugo and Academic | CUPPPA">
  <meta property="og:description" content="Record opeation steps of building personal site with academic for hugo."><meta property="og:image" content="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_512x512_fill_lanczos_center_2.png">
  <meta property="twitter:image" content="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_512x512_fill_lanczos_center_2.png"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2020-07-01T23:07:31&#43;08:00">
    
    <meta property="article:modified_time" content="2020-07-01T23:07:31&#43;08:00">
  

  


    






  




<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/post/blog-with-hugo-and-academic/"
  },
  "headline": "Blog with Hugo and Academic",
  
  "datePublished": "2020-07-01T23:07:31+08:00",
  "dateModified": "2020-07-01T23:07:31+08:00",
  
  "author": {
    "@type": "Person",
    "name": "CUPPPA"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "CUPPPA",
    "logo": {
      "@type": "ImageObject",
      "url": "/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_2.png"
    }
  },
  "description": "Record opeation steps of building personal site with academic for hugo."
}
</script>

  

  


  


  





  <title>Blog with Hugo and Academic | CUPPPA</title>

</head>
<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="dark">

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  









<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">CUPPPA</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">CUPPPA</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/post"><span>Posts</span></a>
        </li>

        
        

        

        
        
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/tags"><span>Tags</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/categories"><span>Categories</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/about/"><span>About</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      
      <li class="nav-item dropdown theme-dropdown">
        <a href="#" class="nav-link js-theme-selector" data-toggle="dropdown" aria-haspopup="true">
          <i class="fas fa-palette" aria-hidden="true"></i>
        </a>
        <div class="dropdown-menu">
          <a href="#" class="dropdown-item js-set-theme-light">
            <span>Light</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-dark">
            <span>Dark</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-auto">
            <span>Automatic</span>
          </a>
        </div>
      </li>
      

      

    </ul>

  </div>
</nav>


  <article class="article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1>Blog with Hugo and Academic</h1>

  

  
    


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    2020-07-01
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    5 min read
  </span>
  

  
  
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="/category/blog/">blog</a></span>
  

</div>

    














  
</div>



  <div class="article-container">

    <div class="article-style">
      <h2 id="install-hugo">Install Hugo</h2>
<ul>
<li>Windows</li>
</ul>
<pre><code>scoop install hugo
# or
choco install hugo
</code></pre>
<ul>
<li>Mac</li>
</ul>
<pre><code>brew install hugo
</code></pre>
<ul>
<li>Linux</li>
</ul>
<pre><code>snap install hugo
</code></pre>
<h2 id="create-new-site">Create New Site</h2>
<pre><code>hugo new site blogs
</code></pre>
<h2 id="add-submodule">Add Submodule</h2>
<pre><code>cd blogs
git submodule add https://github.com/gcushen/hugo-academic.git .\themes\academic
git submodule init
git submodule update
</code></pre>
<h2 id="config-academic">Config Academic</h2>
<h4 id="config_defaultconfigtoml">config/_default/config.toml</h4>
<pre><code>cp -p config.toml config.backup.toml
cp /dev/null config.toml
cp -r themes/academic/exampleSite/config ./
sed -i 's/title = &quot;Academic&quot;/title = &quot;CUPPPA&quot;/' config/_default/config.toml
sed -i 's/hasCJKLanguage = false/hasCJKLanguage = true/' config/_default/config.toml
</code></pre>
<h4 id="config_defaultparamstoml">config/_default/params.toml</h4>
<pre><code>sed -i 's/theme = &quot;minimal&quot;/theme = &quot;dark&quot;/' config/_default/params.toml
sed -i 's/email = &quot;test@example.org&quot;/email = &quot;cupppa@gmail.com&quot;/' config/_default/params.toml
sed -i 's/^date_format = &quot;Jan 2, 2006&quot;/date_format = &quot;2006-01-02&quot;/' config/_default/params.toml
sed -i 's/^time_format = &quot;3:04 PM&quot;/time_format = &quot;15:04&quot;/' config/_default/params.toml
sed -i 's/sharing = true/sharing = false/' config/_default/params.toml
sed -i 's/netlify_cms = true/netlify_cms = false/' config/_default/params.toml
</code></pre>
<p>and change or comment lines start with <code>phone</code>, <code>address</code>, <code>coordinates</code>, <code>directions</code>, <code>office_time</code>, <code>appointment_url</code>, <code>contact_links</code></p>
<h4 id="config_defaultmenustoml">config/_default/menus.toml</h4>
<pre><code>cat &gt;config/_default/menus.toml &lt;&lt;EOF
[[main]]
  name = &quot;Posts&quot;
  url = &quot;post&quot;
  weight = 10

[[main]]
  name = &quot;Tags&quot;
  url = &quot;tags&quot;
  weight = 20

[[main]]
  name = &quot;Categories&quot;
  url = &quot;categories&quot;
  weight = 30
EOF
</code></pre>
<h4 id="homepage">homepage</h4>
<pre><code>mkdir content/home/
cp themes/academic/exampleSite/content/home/index.md content/home/
cp themes/academic/exampleSite/content/home/posts.md content/home/
</code></pre>
<p>now your can view the site with:</p>
<pre><code>hugo server --watch --verbose
</code></pre>
<h2 id="custom-homepage">Custom Homepage</h2>
<pre><code>mkdir -p layouts/partials/widgets
cp themes/academic/layouts/partials/widgets/pages.html layouts/partials/widgets/
</code></pre>
<p>refer to <code>theme/academic/layouts/partials/widgets/tag_cloud.html</code>, replace &ldquo;Recent Post&rdquo; partial (<code>&lt;div class=&quot;col-12 col-lg-4 section-headeing&quot;&gt;...&lt;/div&gt;</code>) with below content and move it from left to right side on homepage:</p>
<pre><code>  &lt;div class=&quot;col-12 col-lg-4 section-heading&quot;&gt;

    {{ $fontSmall := $st.Params.design.font_size_min | default 0.8 }}
    {{ $fontBig := $st.Params.design.font_size_max | default 2.5 }}
    {{ $fontDelta := sub $fontBig $fontSmall }}

    {{ range $taxonomy, $values := site.Taxonomies }}

      {{ $tags := (index site.Taxonomies $taxonomy).ByCount }}
      {{ $count := len $tags }}

      {{/* Warning: Hugo's `Reverse` function appears to operate in-place, hence the order of performing $max/$min matters. */}}
      {{ $max := add (len (index $tags 0).Pages) 1 }}
      {{ $min := len (index ($tags).Reverse 0).Pages }}
      {{ $delta := sub $max $min }}

    &lt;div class=&quot;row card-simple&quot;&gt;
      &lt;div class=&quot;col-12 section-heading&quot;&gt;
        &lt;h1&gt;{{ with $taxonomy }}{{ . | markdownify | emojify | title }}{{ end }}&lt;/h1&gt;
      &lt;/div&gt;
      &lt;div class=&quot;col-12&quot;&gt;
        {{ if ne $count 0 }}
          &lt;div class=&quot;tag-cloud&quot;&gt;
            {{ range $name, $term := (sort $tags &quot;.Page.Title&quot; &quot;asc&quot;) }}
              {{ $tagCount := len $term.Pages }}
              {{ $weight := div (sub (math.Log $tagCount) (math.Log $min)) (sub (math.Log $max) (math.Log $min)) }}
              {{ $fontSize := add $fontSmall (mul (sub $fontBig $fontSmall) $weight) }}
              &lt;a href=&quot;{{ .Page.RelPermalink }}&quot; style=&quot;font-size:{{ $fontSize }}rem&quot;&gt;&lt;span class=&quot;badge badge-light&quot;&gt;{{ $tagCount }}&lt;/span&gt; {{ .Page.Title }}&lt;/a&gt;
            {{ end }}
          &lt;/div&gt;
        {{ end }}
      &lt;/div&gt;
    &lt;/div&gt;
    {{ end }}

  &lt;/div&gt;
</code></pre>
<h2 id="localize-cssjsfont">Localize css/js/font</h2>
<p>Edit params.toml to change font to &ldquo;native&rdquo;</p>
<pre><code>sed -i 's/font = &quot;&quot;/font = &quot;native&quot;/' params.toml
</code></pre>
<p>Install 
<a href="https://github.com/sourcethemes/academic-admin" target="_blank" rel="noopener">Academic Admin</a> tool and import JS and CSS assets to static/</p>
<pre><code>pip3 install academic
academic import --assets
</code></pre>
<p>Add Font Awesome font assets to static/</p>
<pre><code>wget https://github.com/FortAwesome/Font-Awesome/releases/download/5.12.0/fontawesome-free-5.12.0-web.zip -o ~/Downloads/
unzip ~/Downloads/fontawesome-free-5.12.0-web.zip
rsync -av fontawesome-free-5.12.0-web/webfonts static/css/
</code></pre>
<h2 id="custom-axonomy-term-list-page">Custom Axonomy term list page</h2>
<p>Refer to <code>themes/academic/layouts/partials/widgets/{tag_cloud,pages}.html</code>, add template <code>layouts/_default/terms.html</code></p>
<pre><code>cat &gt;layouts/_default/terms.html &lt;&lt;EOF&gt;
{{- define &quot;main&quot; -}}

{{ partial &quot;page_header.html&quot; . }}

&lt;div class=&quot;universal-wrapper&quot;&gt;
  {{ with .Content }}
  &lt;div class=&quot;article-style&quot;&gt;{{ . }}&lt;/div&gt;
  {{ end }}

  {{ if eq .Type &quot;tags&quot; }}

    {{ $st := . }}
    {{ $tags := .Data.Pages }}
    {{ $count := len $tags }}

    {{ $fontSmall := $st.Params.design.font_size_min | default 0.8 }}
    {{ $fontBig := $st.Params.design.font_size_max | default 2.5 }}

    &lt;div class=&quot;card-simple&quot;&gt;

      {{ if ne $count 0 }}
    
        {{ $fontDelta := sub $fontBig $fontSmall }}
        {{/* Warning: Hugo's `Reverse` function appears to operate in-place, hence the order of performing $max/$min matters. */}}
        {{ $max := add (len (index $tags 0).Pages) 1 }}
        {{ $min := len (index ($tags).Reverse 0).Pages }}
        {{ $delta := sub $max $min }}
        {{ $fontStep := div $fontDelta $delta }}
    
        &lt;div class=&quot;tag-cloud&quot;&gt;
          {{ range $name, $term := (sort $tags &quot;.Page.Title&quot; &quot;asc&quot;) }}
            {{ $tagCount := len $term.Pages }}
            {{ $weight := div (sub (math.Log $tagCount) (math.Log $min)) (sub (math.Log $max) (math.Log $min)) }}
            {{ $fontSize := add $fontSmall (mul (sub $fontBig $fontSmall) $weight) }}
            &lt;a href=&quot;{{ .Page.RelPermalink }}&quot; style=&quot;font-size:{{ $fontSize }}rem&quot;&gt;{{ .Page.Title }}&lt;/a&gt;
          {{ end }}
        &lt;/div&gt;
      {{ end }}
    
    &lt;/div&gt;

  {{ else if eq .Type &quot;categories&quot; }}

    {{ $view := .Params.design.view }}

    {{ range .Data.Pages }}
      {{ $link := .RelPermalink }}
      {{ $target := &quot;&quot; }}
      {{ with .Params.external_link }}
        {{ $link = . }}
        {{ $target = &quot;target=\&quot;_blank\&quot; rel=\&quot;noopener\&quot;&quot; }}
      {{ end }}

      {{ $st := . }}
      {{ $count := len $st.Pages }}

      {{ $view = $st.Params.design.view | default $view }}

      {{ $items_count := $st.Params.content.count }}
      {{ if eq $items_count 0 }}
        {{ $items_count = 65535 }}
      {{ else }}
        {{ $items_count = $items_count | default 5 }}
      {{ end }}

      &lt;div class=&quot;card-simple&quot;&gt;

        &lt;div class=&quot;row&quot;&gt;
          &lt;div class=&quot;col-12 col-lg-4&quot;&gt;
            &lt;h2&gt;
              &lt;a href=&quot;{{$link}}&quot; {{ $target | safeHTMLAttr }}&gt;
                &lt;i class=&quot;fas fa-folder mr-1&quot;&gt;&lt;/i&gt;
                {{ .Title }}
                [&lt;span class=&quot;&quot;&gt;{{ if ge $count $items_count }}{{ $items_count }}/{{ end }}{{ $count }}&lt;/span&gt;]&lt;/a&gt;
            &lt;/h2&gt;
            {{ with $st.Content }}{{ . }}{{ end }}
          &lt;/div&gt;
          &lt;div class=&quot;col-12 col-lg-8&quot;&gt;

            {{ range first $items_count .Pages }}
              {{ if eq $view 1 }}
                {{ partial &quot;li_list&quot; . }}
              {{ else if eq $view 3 }}
                {{ partial &quot;li_card&quot; . }}
              {{ else }}
                {{ partial &quot;li_compact&quot; . }}
              {{ end }}
            {{end}}

          &lt;/div&gt;
        &lt;/div&gt;

      &lt;/div&gt;
      
    {{ end }}

  {{ end }}

&lt;/div&gt;

{{- end -}}
EOF
</code></pre>
<p>Add <code>content/{tags,categories}/_index.md</code> to appoint list style to <code>card</code></p>
<pre><code>cat &gt;content/categories/_index.md &lt;&lt;EOF
+++
title = &quot;Categories&quot;

[design]
  # 1: list
  # 2: compact
  # 3: card
  view = 3
</code></pre>
<h2 id="custom-axonomy-term-page">Custom axonomy term page</h2>
<p>Refer to <code>themes/academic/_default/list.html</code> and <code>themes/academic/_default/partials/widgets/pages.html</code>, add template <code>layouts/_default/term.html</code></p>
<pre><code>cat &gt;layouts/_default/term.html &lt;&lt;EOF
{{- define &quot;main&quot; -}}

{{ partial &quot;page_header.html&quot; . }}

&lt;div class=&quot;universal-wrapper&quot;&gt;

  {{ with .Content }}
  &lt;div class=&quot;article-style&quot;&gt;{{ . }}&lt;/div&gt;
  {{ end }}

  {{ $view := .Parent.Params.design.view }}

  {{ $paginator := .Paginate .Data.Pages }}
  {{ range $paginator.Pages }}
    {{ if eq $view 1 }}
      {{ partial &quot;li_list&quot; . }}
    {{ else if eq $view 3 }}
      {{ partial &quot;li_card&quot; . }}
    {{ else }}
      {{ partial &quot;li_compact&quot; . }}
    {{ end }}
  {{ end }}

  {{ partial &quot;pagination&quot; . }}

&lt;/div&gt;

{{- end -}}
EOF
</code></pre>

    </div>

    






<div class="article-tags">
  
  <a class="badge badge-light" href="/tag/hugo/">hugo</a>
  
  <a class="badge badge-light" href="/tag/academic/">academic</a>
  
</div>

























  
  





  </div>
</article>

      

    
    
    
      <script src="/js/vendor/main.min.js"></script>
    

    
    

    
    
    <script>const code_highlighting = false;</script>
    

    
    
    <script>const isSiteThemeDark = true;</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks",
        'slides' : "Slides"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    

    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.66c553246b0f279a03be6e5597f72b52.js"></script>

    






  
  
  <div class="container">
    <footer class="site-footer">
  

  <p class="powered-by">
    
  </p>

  
  






  <p class="powered-by">
    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" class="back-to-top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
